{"version":3,"file":"login.js","sources":["pages/admin/login.vue","../../../Software/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWRtaW4vbG9naW4udnVl"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 顶部导航栏 -->\n    <view class=\"header bg-green px-4 py-3\">\n      <view class=\"flex items-center\">\n        <view @tap=\"goBack\" class=\"p-2\">\n          <image src=\"/static/images/icons/icon-back.svg\" class=\"back-icon\"></image>\n        </view>\n        <view class=\"flex-1 text-center\">\n          <text class=\"text-white text-lg font-medium\">管理员登录</text>\n        </view>\n        <view class=\"w-24px\"></view> <!-- 为了居中标题的占位 -->\n      </view>\n    </view>\n    \n    <!-- 登录区域 -->\n    <view class=\"login-container\">\n      <!-- 小程序头像 -->\n      <view class=\"logo-container\">\n        <image src=\"/static/images/app-icon.png\" class=\"app-logo\" mode=\"aspectFill\"></image>\n        <text class=\"app-name\">环保先锋管理系统</text>\n      </view>\n      \n      <!-- 登录表单 -->\n      <view class=\"login-form\">\n        <view class=\"input-group\">\n          <view class=\"input-icon\">\n            <text class=\"iconfont icon-user text-green-500\"></text>\n          </view>\n          <input \n            type=\"text\" \n            v-model=\"username\" \n            placeholder=\"请输入管理员账号\" \n            class=\"login-input\"\n            placeholder-class=\"placeholder\"\n          />\n        </view>\n        \n        <view class=\"input-group\">\n          <view class=\"input-icon\">\n            <text class=\"iconfont icon-lock text-green-500\"></text>\n          </view>\n          <input \n            type=\"password\" \n            v-model=\"password\" \n            placeholder=\"请输入管理员密码\" \n            class=\"login-input\"\n            placeholder-class=\"placeholder\"\n            password\n          />\n        </view>\n        \n        <view class=\"mt-8\">\n          <button \n            class=\"login-button\"\n            :disabled=\"!username || !password\"\n            :class=\"{ 'login-button-disabled': !username || !password }\"\n            @tap=\"handleLogin\"\n          >\n            登录\n          </button>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\n\n// 账号密码\nconst username = ref('');\nconst password = ref('');\n\n// 返回上一页\nconst goBack = () => {\n  uni.navigateBack();\n};\n\n// 处理登录\nconst handleLogin = () => {\n  // 验证用户名密码\n  if (!username.value || !password.value) {\n    uni.showToast({\n      title: '请输入账号和密码',\n      icon: 'none'\n    });\n    return;\n  }\n  \n  // 检查是否是管理员账号\n  if (username.value === 'admin' && password.value === '1021101') {\n    // 保存完整的登录状态\n    uni.setStorageSync('admin_login_status', 'loggedin');\n    uni.setStorageSync('admin_id', 'admin');\n    uni.setStorageSync('admin_username', username.value);\n    uni.setStorageSync('admin_login_time', Date.now());\n    \n    // 显示登录成功\n    uni.showToast({\n      title: '登录成功',\n      icon: 'success',\n      duration: 1500\n    });\n    \n    // 登录成功后跳转到管理员控制台\n    setTimeout(() => {\n      uni.redirectTo({\n        url: '/pages/admin/dashboard'\n      });\n    }, 1500);\n  } else {\n    uni.showToast({\n      title: '账号或密码错误',\n      icon: 'none'\n    });\n  }\n};\n</script>\n\n<style>\n.container {\n  min-height: 100vh;\n  background-color: #f8f9fa;\n}\n\n.header {\n  padding-top: 44px;\n  padding-bottom: 12px;\n  box-sizing: content-box;\n}\n\n.bg-green {\n  background-color: #4CAF50;\n}\n\n.w-24px {\n  width: 24px;\n}\n\n.login-container {\n  padding: 40px 30px;\n}\n\n.logo-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 50px;\n}\n\n.app-logo {\n  width: 100px;\n  height: 100px;\n  border-radius: 20px;\n}\n\n.app-name {\n  margin-top: 16px;\n  font-size: 20px;\n  font-weight: 600;\n  color: #333;\n}\n\n.login-form {\n  padding: 0 10px;\n}\n\n.input-group {\n  position: relative;\n  margin-bottom: 24px;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #e0e0e0;\n  padding: 8px 0;\n}\n\n.input-icon {\n  margin-right: 10px;\n}\n\n.login-input {\n  flex: 1;\n  height: 40px;\n  font-size: 16px;\n}\n\n.placeholder {\n  color: #c0c0c0;\n}\n\n.login-button {\n  width: 100%;\n  height: 48px;\n  line-height: 48px;\n  text-align: center;\n  background-color: #4CAF50;\n  color: white;\n  border-radius: 24px;\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.login-button-disabled {\n  background-color: #9ed1a1;\n}\n\n.text-white { color: #ffffff; }\n.text-green-500 { color: #4CAF50; }\n\n.text-lg { font-size: 18px; }\n.font-medium { font-weight: 500; }\n\n.flex { display: flex; }\n.flex-1 { flex: 1; }\n.items-center { align-items: center; }\n.text-center { text-align: center; }\n\n.px-4 { padding-left: 16px; padding-right: 16px; }\n.py-3 { padding-top: 12px; padding-bottom: 12px; }\n.mt-8 { margin-top: 32px; }\n\n.back-icon {\n  width: 18px;\n  height: 18px;\n}\n</style> ","import MiniProgramPage from 'D:/Documents/HBuilderProjects/CarbonFootprint/pages/admin/login.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","MiniProgramPage"],"mappings":";;;;;;AAuEA,UAAM,WAAWA,cAAAA,IAAI,EAAE;AACvB,UAAM,WAAWA,cAAAA,IAAI,EAAE;AAGvB,UAAM,SAAS,MAAM;AACnBC,oBAAG,MAAC,aAAY;AAAA,IAClB;AAGA,UAAM,cAAc,MAAM;AAExB,UAAI,CAAC,SAAS,SAAS,CAAC,SAAS,OAAO;AACtCA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACZ,CAAK;AACD;AAAA,MACD;AAGD,UAAI,SAAS,UAAU,WAAW,SAAS,UAAU,WAAW;AAE9DA,sBAAAA,MAAI,eAAe,sBAAsB,UAAU;AACnDA,sBAAAA,MAAI,eAAe,YAAY,OAAO;AACtCA,sBAAAA,MAAI,eAAe,kBAAkB,SAAS,KAAK;AACnDA,sBAAAA,MAAI,eAAe,oBAAoB,KAAK,IAAK,CAAA;AAGjDA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,UACN,UAAU;AAAA,QAChB,CAAK;AAGD,mBAAW,MAAM;AACfA,wBAAAA,MAAI,WAAW;AAAA,YACb,KAAK;AAAA,UACb,CAAO;AAAA,QACF,GAAE,IAAI;AAAA,MACX,OAAS;AACLA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACZ,CAAK;AAAA,MACF;AAAA,IACH;;;;;;;;;;;;;;;;;ACpHA,GAAG,WAAWC,SAAe;"}