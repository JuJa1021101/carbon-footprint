{"version":3,"file":"knowledge-static.js","sources":["pages/home/knowledge-static.vue","../../../Software/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9rbm93bGVkZ2Utc3RhdGljLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 顶部导航栏 -->\n    <view class=\"header bg-green px-4 py-3\">\n      <view class=\"flex items-center\">\n        <view @tap=\"goBack\">\n          <image src=\"/static/images/icons/icon-back.svg\" class=\"back-icon\" style=\"filter: brightness(0) invert(1);\"></image>\n        </view>\n        <view class=\"flex-1 text-center\">\n          <text class=\"text-white text-lg font-medium\">环保知识详情</text>\n        </view>\n        <view class=\"more-btn\">\n          <image src=\"/static/images/icons/icon-more.svg\" class=\"more-icon\"></image>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 知识详情 -->\n    <view class=\"knowledge-detail\">\n      <!-- 内容区域 -->\n      <view class=\"content-section\">\n        <!-- 环保知识标题 -->\n        <view class=\"env-knowledge-title\">\n          <text>环保知识：</text>\n        </view>\n        \n        <!-- 环保知识内容 -->\n        <view class=\"env-knowledge-content\">\n          <rich-text :nodes=\"knowledge.content\" class=\"content-area\"></rich-text>\n        </view>\n      </view>\n      \n      <!-- 图片区域 -->\n      <view class=\"image-section\">\n        <image \n          :src=\"knowledge.image\" \n          mode=\"widthFix\" \n          class=\"knowledge-image\"\n        ></image>\n      </view>\n      \n      <!-- 标签和时间区域 -->\n      <view class=\"tags-time-section\">\n        <view class=\"flex justify-between items-center\">\n          <!-- 标签 -->\n          <view class=\"tags\">\n            <text class=\"tag-pill\"># {{ knowledge.tag }}</text>\n          </view>\n          \n          <!-- 创建时间 -->\n          <view class=\"time\">\n            <text>{{ knowledge.time }}</text>\n          </view>\n        </view>\n      </view>\n      \n      <!-- 底部工具栏 -->\n      <view class=\"footer-section\">\n        <view class=\"flex justify-between items-center\">\n          <!-- 左侧工具 -->\n          <view class=\"footer-left\">\n            <!-- 返回按钮 -->\n            <view class=\"footer-btn\" @tap=\"goBack\">\n              <text class=\"iconfont icon-left\"></text>\n            </view>\n          </view>\n          \n          <!-- 中间工具 -->\n          <view class=\"footer-center\">\n            <!-- 浏览量 -->\n            <view class=\"footer-stat\">\n              <text class=\"iconfont icon-eye\"></text>\n              <text>{{ knowledge.views }}</text>\n            </view>\n            \n            <!-- 点赞 -->\n            <view \n              class=\"footer-stat\"\n              :class=\"{'liked': isLiked}\"\n              @tap=\"toggleLike\"\n            >\n              <text class=\"iconfont\" :class=\"isLiked ? 'icon-like-fill' : 'icon-like'\"></text>\n              <text>{{ knowledge.likes }}</text>\n            </view>\n          </view>\n          \n          <!-- 右侧工具 -->\n          <view class=\"footer-right\">\n            <!-- 分享按钮 -->\n            <button \n              class=\"share-btn\"\n              open-type=\"share\">\n              分享\n            </button>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport { onLoad } from '@dcloudio/uni-app';\n\n// 两个静态知识库\nconst staticKnowledge = {\n  garbage: {\n    title: '一张图看懂家庭垃圾如何正确分类',\n    content: '<div><p>随着环保意识的提高，垃圾分类已成为每个家庭必须面对的日常任务。正确的垃圾分类不仅有助于资源的回收利用，还能减少环境污染。</p><p>家庭垃圾主要分为四大类：</p><ul><li><strong>可回收物</strong>：纸类、塑料、金属、玻璃等适宜回收利用的物品</li><li><strong>有害垃圾</strong>：废电池、废灯管、废药品、废油漆等对环境或人体健康有害的垃圾</li><li><strong>厨余垃圾</strong>：剩菜剩饭、骨头、菜根菜叶等食品类废物</li><li><strong>其他垃圾</strong>：除可回收物、有害垃圾、厨余垃圾以外的其他生活废弃物</li></ul><p>通过正确分类，我们可以让垃圾得到更合理的处理，为地球环保贡献自己的一份力量。</p></div>',\n    image: '/static/images/userspost/garbage-sorting.jpeg',\n    tag: '垃圾分类',\n    time: '3小时前',\n    views: 1234,\n    likes: 56\n  },\n  energy: {\n    title: '日常用电小窍门，轻松节能30%',\n    content: '<div><p>在日常生活中，通过一些简单的改变，我们可以轻松实现节能减排，既环保又省钱。</p><p>以下是几个实用的节电小窍门：</p><ol><li>选择节能电器：购买家电时，优先选择能效标识为一级或二级的产品</li><li>合理使用空调：夏季温度设置在26℃以上，冬季不高于20℃</li><li>随手关灯：离开房间时及时关灯，充分利用自然光</li><li>拔掉待机电源：电器不用时拔掉插头，避免待机耗电</li><li>洗衣机满载再洗：集中衣物一次清洗，减少洗衣机启动次数</li><li>电冰箱合理放置：远离热源，保持散热空间，减少开门次数</li><li>使用节能灯具：LED灯比传统灯泡节能80%以上</li></ol><p>通过上述方法，普通家庭可以轻松节约30%的电力消耗，为减少碳排放作出贡献。</p></div>',\n    image: '/static/images/userspost/energy-saving.jpeg',\n    tag: '节能减排',\n    time: '昨天',\n    views: 867,\n    likes: 42\n  }\n};\n\n// 数据\nconst knowledge = ref({});\nconst isLiked = ref(false);\nconst knowledgeLikeKey = ref('');\n\n// 切换点赞状态\nconst toggleLike = () => {\n  isLiked.value = !isLiked.value;\n  if (isLiked.value) {\n    knowledge.value.likes++;\n  } else {\n    knowledge.value.likes--;\n  }\n  \n  // 保存点赞状态到本地\n  const likedKeys = uni.getStorageSync('likedStaticKnowledge') || [];\n  if (isLiked.value) {\n    likedKeys.push(knowledgeLikeKey.value);\n  } else {\n    const index = likedKeys.indexOf(knowledgeLikeKey.value);\n    if (index > -1) {\n      likedKeys.splice(index, 1);\n    }\n  }\n  uni.setStorageSync('likedStaticKnowledge', likedKeys);\n  \n  // 显示提示\n  uni.showToast({\n    title: isLiked.value ? '点赞成功' : '已取消点赞',\n    icon: 'none'\n  });\n};\n\n// 返回上一页\nconst goBack = () => {\n  uni.navigateBack();\n};\n\n// 分享功能\nuni.onShareAppMessage(() => {\n  return {\n    title: knowledge.value.title || '环保知识分享',\n    path: `/pages/home/knowledge-static?type=${knowledgeLikeKey.value}`,\n    imageUrl: knowledge.value.image || ''\n  };\n});\n\n// 初始化\nonLoad((options) => {\n  console.log('静态知识详情页面参数:', options);\n  if (options.type === 'garbage' || options.type === 'energy') {\n    knowledge.value = staticKnowledge[options.type];\n    knowledgeLikeKey.value = `static-${options.type}`;\n    \n    // 获取点赞状态\n    const likedKeys = uni.getStorageSync('likedStaticKnowledge') || [];\n    isLiked.value = likedKeys.includes(knowledgeLikeKey.value);\n  } else {\n    // 默认显示垃圾分类\n    knowledge.value = staticKnowledge.garbage;\n    knowledgeLikeKey.value = 'static-garbage';\n  }\n});\n</script>\n\n<style>\n.container {\n  min-height: 100vh;\n  background-color: #f5f5f5;\n}\n\n.header {\n  padding-top: 44px;\n  padding-bottom: 12px;\n  box-sizing: content-box;\n  background-color: #4CAF50;\n}\n\n.knowledge-detail {\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 80px; /* 为底部工具栏留出空间 */\n}\n\n.content-section {\n  background-color: #fff;\n  padding: 20px 16px;\n  margin-bottom: 10px;\n}\n\n.env-knowledge-title {\n  font-size: 18px;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 16px;\n}\n\n.env-knowledge-content {\n  font-size: 16px;\n  line-height: 1.6;\n  color: #333;\n}\n\n.image-section {\n  padding: 16px;\n  background-color: #fff;\n  margin-bottom: 10px;\n}\n\n.knowledge-image {\n  width: 100%;\n  border-radius: 8px;\n}\n\n.tags-time-section {\n  padding: 16px;\n  background-color: #fff;\n  margin-bottom: 10px;\n}\n\n.tags {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.tag-pill {\n  display: inline-block;\n  font-size: 12px;\n  color: #4CAF50;\n  background-color: #e8f5e9;\n  padding: 4px 12px;\n  border-radius: 16px;\n  margin-right: 8px;\n  margin-bottom: 8px;\n}\n\n.time {\n  font-size: 12px;\n  color: #999;\n}\n\n.footer-section {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: #fff;\n  border-top: 1px solid #eee;\n  padding: 10px 16px;\n  z-index: 100;\n}\n\n.footer-left, .footer-center, .footer-right {\n  display: flex;\n  align-items: center;\n}\n\n.footer-center {\n  flex: 1;\n  justify-content: center;\n}\n\n.footer-stat {\n  display: flex;\n  align-items: center;\n  margin: 0 15px;\n  color: #666;\n}\n\n.footer-stat.liked {\n  color: #ff5252;\n}\n\n.footer-stat .iconfont {\n  margin-right: 4px;\n  font-size: 20px;\n}\n\n.share-btn {\n  background-color: #4CAF50;\n  color: #fff;\n  font-size: 14px;\n  padding: 6px 16px;\n  border-radius: 20px;\n  border: none;\n}\n\n/* 工具类 */\n.flex { display: flex; }\n.flex-1 { flex: 1; }\n.items-center { align-items: center; }\n.justify-center { justify-content: center; }\n.justify-between { justify-content: space-between; }\n.text-center { text-align: center; }\n\n.text-white { color: #ffffff; }\n.text-lg { font-size: 18px; }\n.font-medium { font-weight: 500; }\n\n.bg-green { background-color: #4CAF50; }\n.px-4 { padding-left: 16px; padding-right: 16px; }\n.py-3 { padding-top: 12px; padding-bottom: 12px; }\n.w-24px { width: 24px; }\n\n.more-btn {\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.more-icon {\n  width: 20px;\n  height: 20px;\n  filter: brightness(0) invert(1); /* 将图标变为白色 */\n}\n\n.back-icon {\n  width: 18px;\n  height: 18px;\n}\n</style> ","import MiniProgramPage from 'D:/Documents/HBuilderProjects/CarbonFootprint/pages/home/knowledge-static.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onLoad","MiniProgramPage"],"mappings":";;;;;;AA0GA,UAAA,kBAAA;AAAA,MACA,SAAA;AAAA,QACA,OAAA;AAAA,QACA,SAAA;AAAA,QACA,OAAA;AAAA,QACA,KAAA;AAAA,QACA,MAAA;AAAA,QACA,OAAA;AAAA,QACA,OAAA;AAAA,MACA;AAAA,MACA,QAAA;AAAA,QACA,OAAA;AAAA,QACA,SAAA;AAAA,QACA,OAAA;AAAA,QACA,KAAA;AAAA,QACA,MAAA;AAAA,QACA,OAAA;AAAA,QACA,OAAA;AAAA,MACA;AAAA,IACA;AAGA,UAAA,YAAAA,cAAAA,IAAA,CAAA,CAAA;AACA,UAAA,UAAAA,cAAAA,IAAA,KAAA;AACA,UAAA,mBAAAA,cAAAA,IAAA,EAAA;AAGA,UAAA,aAAA,MAAA;AACA,cAAA,QAAA,CAAA,QAAA;AACA,UAAA,QAAA,OAAA;AACA,kBAAA,MAAA;AAAA,MACA,OAAA;AACA,kBAAA,MAAA;AAAA,MACA;AAGA,YAAA,YAAAC,cAAA,MAAA,eAAA,sBAAA,KAAA,CAAA;AACA,UAAA,QAAA,OAAA;AACA,kBAAA,KAAA,iBAAA,KAAA;AAAA,MACA,OAAA;AACA,cAAA,QAAA,UAAA,QAAA,iBAAA,KAAA;AACA,YAAA,QAAA,IAAA;AACA,oBAAA,OAAA,OAAA,CAAA;AAAA,QACA;AAAA,MACA;AACAA,oBAAAA,MAAA,eAAA,wBAAA,SAAA;AAGAA,oBAAAA,MAAA,UAAA;AAAA,QACA,OAAA,QAAA,QAAA,SAAA;AAAA,QACA,MAAA;AAAA,MACA,CAAA;AAAA,IACA;AAGA,UAAA,SAAA,MAAA;AACAA,oBAAA,MAAA,aAAA;AAAA,IACA;AAGAA,kBAAA,MAAA,kBAAA,MAAA;AACA,aAAA;AAAA,QACA,OAAA,UAAA,MAAA,SAAA;AAAA,QACA,MAAA,qCAAA,iBAAA,KAAA;AAAA,QACA,UAAA,UAAA,MAAA,SAAA;AAAA,MACA;AAAA,IACA,CAAA;AAGAC,kBAAA,OAAA,CAAA,YAAA;AACAD,oBAAA,MAAA,MAAA,OAAA,0CAAA,eAAA,OAAA;AACA,UAAA,QAAA,SAAA,aAAA,QAAA,SAAA,UAAA;AACA,kBAAA,QAAA,gBAAA,QAAA,IAAA;AACA,yBAAA,QAAA,UAAA,QAAA,IAAA;AAGA,cAAA,YAAAA,cAAA,MAAA,eAAA,sBAAA,KAAA,CAAA;AACA,gBAAA,QAAA,UAAA,SAAA,iBAAA,KAAA;AAAA,MACA,OAAA;AAEA,kBAAA,QAAA,gBAAA;AACA,yBAAA,QAAA;AAAA,MACA;AAAA,IACA,CAAA;;;;;;;;;;;;;;;;;;;;;AC5LA,GAAG,WAAWE,SAAe;"}