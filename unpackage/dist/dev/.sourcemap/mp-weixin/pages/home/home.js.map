{"version":3,"file":"home.js","sources":["pages/home/home.vue","../../../Software/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9ob21lLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->\n    <view class=\"px-4 pt-10 pb-4 bg-white\">\n      <view class=\"flex items-center justify-between mb-4\">\n        <text class=\"text-xl font-bold\">ÁéØ‰øùÂÖàÈîã</text>\n        <view class=\"flex\">\n          <view class=\"mr-4\">\n            <icon-image :name=\"'notification'\" class=\"text-gray-500\" size=\"18\"></icon-image>\n          </view>\n          <view>\n            <icon-image :name=\"'calendar'\" class=\"text-gray-500\" size=\"18\"></icon-image>\n          </view>\n        </view>\n      </view>\n\n      <!-- ÊêúÁ¥¢Ê°Ü -->\n      <view class=\"relative search-container\">\n        <view class=\"search-input-container\">\n          <input \n            type=\"text\" \n            v-model=\"searchKeyword\"\n            class=\"search-bar w-full bg-gray-100 py-2 px-4 pr-10 text-sm\" \n            placeholder=\"ÊêúÁ¥¢ÁéØ‰øùÁü•ËØÜ„ÄÅÊ¥ªÂä®...\"\n            @confirm=\"handleSearch\">\n          <icon-image \n            v-if=\"searchKeyword\" \n            :name=\"'close-circle'\"\n            class=\"absolute right-10 top-2-5 text-gray-400\" \n            size=\"16\"\n            @tap=\"clearSearch\">\n          </icon-image>\n          <icon-image :name=\"'search'\" class=\"absolute right-3 top-2-5 text-gray-400\" size=\"16\" @tap=\"handleSearch\"></icon-image>\n        </view>\n        \n        <!-- ÊêúÁ¥¢Áä∂ÊÄÅ -->\n        <view v-if=\"isSearchMode\" class=\"search-status mt-2\">\n          <view class=\"flex items-center\">\n            <text class=\"text-sm\">ÂÖ≥ÈîÆËØç: \"{{ searchKeyword }}\"</text>\n            <text class=\"text-xs text-gray-500 ml-2\">(ÊâæÂà∞ {{ searchResults.length }} Êù°ÁªìÊûú)</text>\n            <view class=\"ml-auto\">\n              <text class=\"text-green-500 text-sm\" @tap=\"exitSearch\">ÈÄÄÂá∫ÊêúÁ¥¢</text>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- ÂàÜÁ±ªÂØºËà™ -->\n    <view class=\"px-4 py-4 bg-white\">\n      <scroll-view scroll-x class=\"flex whitespace-nowrap pb-2\" show-scrollbar=\"false\">\n        <text class=\"nav-pill active-pill flex-shrink-0\">ÂÖ®ÈÉ®</text>\n        <text class=\"nav-pill bg-gray-100 flex-shrink-0 space-left\">ÂûÉÂúæÂàÜÁ±ª</text>\n        <text class=\"nav-pill bg-gray-100 flex-shrink-0 space-left\">ËäÇËÉΩÂáèÊéí</text>\n        <text class=\"nav-pill bg-gray-100 flex-shrink-0 space-left\">ËµÑÊ∫êÂõûÊî∂</text>\n        <text class=\"nav-pill bg-gray-100 flex-shrink-0 space-left\">‰ΩéÁ¢≥ÁîüÊ¥ª</text>\n      </scroll-view>\n    </view>\n\n    <!-- ÂÜÖÂÆπÂå∫ -->\n    <view class=\"p-4\">\n      <!-- ÊêúÁ¥¢ÁªìÊûú -->\n      <view v-if=\"isSearchMode\">\n        <!-- ÊêúÁ¥¢ÁªìÊûú‰∏∫Á©∫ -->\n        <view v-if=\"searchResults.length === 0\" class=\"flex flex-col items-center py-10\">\n          <icon-image :name=\"'search'\" class=\"text-gray-300 text-5xl mb-4\" size=\"48\"></icon-image>\n          <text class=\"text-gray-500\">Ê≤°ÊúâÊâæÂà∞Áõ∏ÂÖ≥ÂÜÖÂÆπ</text>\n          <text class=\"text-gray-400 text-sm mt-2\">Êç¢‰∏™ÂÖ≥ÈîÆËØçËØïËØïÂêß</text>\n        </view>\n        \n        <!-- ÁéØ‰øùÁü•ËØÜÊêúÁ¥¢ÁªìÊûú -->\n        <view v-else>\n          <!-- Áü•ËØÜÊêúÁ¥¢ÁªìÊûú -->\n          <view v-if=\"searchKnowledgeResults.length > 0\" class=\"mb-6\">\n            <view class=\"flex justify-between items-center mb-3\">\n              <text class=\"text-lg font-semibold\">ÁéØ‰øùÁü•ËØÜ</text>\n              <view class=\"flex items-center\" @tap=\"navigateToKnowledgeList\">\n                <text class=\"text-sm text-gray-500\">Êü•ÁúãÊõ¥Â§ö</text>\n                <icon-image :name=\"'right'\" class=\"text-xs text-gray-500 ml-1\" size=\"12\"></icon-image>\n              </view>\n            </view>\n            \n            <!-- Áü•ËØÜÂç°ÁâáÂàóË°® -->\n            <view \n              v-for=\"item in searchKnowledgeResults\" \n              :key=\"item._id\"\n              class=\"card bg-white mb-4\" \n              @tap=\"navigateToKnowledgeDetail(item._id)\">\n              \n              <template v-if=\"item.image\">\n                <image :src=\"item.image\" mode=\"aspectFill\" class=\"knowledge-img\"></image>\n                <view class=\"p-3\">\n                  <view class=\"flex mb-2\">\n                    <text class=\"green-tag\" v-if=\"item.tags\"># {{ item.tags.split(',')[0] }}</text>\n                  </view>\n                  <text class=\"font-medium mb-2 block\">{{ item.title }}</text>\n                  <view class=\"flex items-center text-gray-500 text-xs\">\n                    <icon-image :name=\"'eye'\" class=\"mr-1\" size=\"14\"></icon-image>\n                    <text class=\"mr-3\">{{ item.views || 0 }}</text>\n                    <icon-image :name=\"'like'\" class=\"mr-1\" size=\"14\"></icon-image>\n                    <text>{{ item.likes || 0 }}</text>\n                    <text class=\"ml-auto\">{{ formatDate(item.created_at) }}</text>\n                  </view>\n                </view>\n              </template>\n              \n              <template v-else>\n                <view class=\"flex\">\n                  <view class=\"p-3 flex-grow\">\n                    <view class=\"flex mb-2\">\n                      <text class=\"green-tag\" v-if=\"item.tags\"># {{ item.tags.split(',')[0] }}</text>\n                    </view>\n                    <text class=\"font-medium mb-2 block\">{{ item.title }}</text>\n                    <view class=\"flex items-center text-gray-500 text-xs\">\n                      <icon-image :name=\"'eye'\" class=\"mr-1\" size=\"14\"></icon-image>\n                      <text class=\"mr-3\">{{ item.views || 0 }}</text>\n                      <icon-image :name=\"'like'\" class=\"mr-1\" size=\"14\"></icon-image>\n                      <text>{{ item.likes || 0 }}</text>\n                      <text class=\"ml-auto\">{{ formatDate(item.created_at) }}</text>\n                    </view>\n                  </view>\n                </view>\n              </template>\n            </view>\n          </view>\n          \n          <!-- Ê¥ªÂä®ÊêúÁ¥¢ÁªìÊûú -->\n          <view v-if=\"searchActivityResults.length > 0\">\n            <view class=\"flex justify-between items-center mb-3\">\n              <text class=\"text-lg font-semibold\">ÂÖ¨ÁõäÊ¥ªÂä®</text>\n              <view class=\"flex items-center\" @tap=\"navigateToAllActivities\">\n                <text class=\"text-sm text-gray-500\">Êü•ÁúãÊõ¥Â§ö</text>\n                <icon-image :name=\"'right'\" class=\"text-xs text-gray-500 ml-1\" size=\"12\"></icon-image>\n              </view>\n            </view>\n            \n            <!-- Ê¥ªÂä®Âç°ÁâáÂàóË°® -->\n            <view \n              v-for=\"(activity, index) in searchActivityResults\" \n              :key=\"activity._id || index\"\n              class=\"activity-card bg-white mb-4 rounded-lg\"\n              @tap=\"navigateToDetail(activity._id)\">\n              <view class=\"p-4\">\n                <!-- Ê¥ªÂä®Ê†áÈ¢òÂíåÁä∂ÊÄÅ -->\n                <view class=\"flex justify-between items-center mb-2\">\n                  <text class=\"font-medium text-base\">{{ activity.title }}</text>\n                  <text \n                    :class=\"getStatusTextClass(activity)\"\n                    class=\"text-xs\">\n                    {{ activity.status }}\n                  </text>\n                </view>\n                \n                <!-- Ê¥ªÂä®ÊèèËø∞ -->\n                <text class=\"text-gray-600 text-sm mb-3\">{{ activity.description }}</text>\n                \n                <!-- Ê¥ªÂä®Âú∞ÁÇπ -->\n                <view class=\"flex items-center mb-2 text-gray-500 text-sm\">\n                  <icon-image :name=\"'location'\" class=\"mr-1\" size=\"14\"></icon-image>\n                  <text>{{ activity.location }}</text>\n                </view>\n                \n                <!-- Ê¥ªÂä®Êó∂Èó¥ -->\n                <view class=\"flex items-center mb-3 text-gray-500 text-sm\">\n                  <icon-image :name=\"'calendar'\" class=\"mr-1\" size=\"14\"></icon-image>\n                  <text>{{ activity.activity_time }}</text>\n                </view>\n                \n                <!-- ÂèÇ‰∏é‰∫∫Êï∞ÂíåÊä•ÂêçÊåâÈíÆ -->\n                <view class=\"flex items-center justify-between\">\n                  <!-- ÂèÇ‰∏é‰∫∫Êï∞ -->\n                  <view class=\"flex items-center\">\n                    <view class=\"flex mr-2\">\n                      <view class=\"activity-avatar-icon\">üßë</view>\n                      <view class=\"activity-avatar-icon ml-n2\">üë©</view>\n                      <view class=\"activity-avatar-icon ml-n2\">üë®</view>\n                    </view>\n                    <text class=\"text-xs text-gray-500\">{{ getParticipantsCount(activity) }}‰∫∫Â∑≤Êä•Âêç</text>\n                  </view>\n                  \n                  <!-- Êä•ÂêçÊåâÈíÆ -->\n                  <button \n                    :class=\"getActionButtonClass(activity)\"\n                    @tap.stop=\"handleActivityAction(activity)\">\n                    {{ activity.status === 'Êä•Âêç‰∏≠' ? 'Á´ãÂç≥Êä•Âêç' : 'Êü•ÁúãËØ¶ÊÉÖ' }}\n                  </button>\n                </view>\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n      \n      <!-- Ê≠£Â∏∏È¶ñÈ°µÂÜÖÂÆπ -->\n      <view v-else>\n        <!-- Êé®ËçêÁéØ‰øùÁü•ËØÜ -->\n        <view class=\"mb-6\">\n          <view class=\"flex justify-between items-center mb-3\">\n            <text class=\"text-lg font-semibold\">ÁéØ‰øùÁü•ËØÜ</text>\n            <view class=\"flex items-center\" @tap=\"navigateToKnowledgeList\">\n              <text class=\"text-sm text-gray-500\">Êü•ÁúãÊõ¥Â§ö</text>\n              <icon-image :name=\"'right'\" class=\"text-xs text-gray-500 ml-1\" size=\"12\"></icon-image>\n            </view>\n          </view>\n\n          <!-- ÈùôÊÄÅÁü•ËØÜÂç°Áâá -->\n          <!-- Á¨¨‰∏ÄÂº†Âç°Áâá -->\n          <view class=\"card bg-white mb-4\" @tap=\"navigateToKnowledgeDetail('static1')\">\n            <image src=\"/static/images/userspost/garbage-sorting.jpeg\" mode=\"aspectFill\" class=\"knowledge-img\"></image>\n            <view class=\"p-3\">\n              <view class=\"flex mb-2\">\n                <text class=\"green-tag\"># ÂûÉÂúæÂàÜÁ±ª</text>\n              </view>\n              <text class=\"font-medium mb-2 block\">‰∏ÄÂº†ÂõæÁúãÊáÇÂÆ∂Â∫≠ÂûÉÂúæÂ¶Ç‰ΩïÊ≠£Á°ÆÂàÜÁ±ª</text>\n              <view class=\"flex items-center text-gray-500 text-xs\">\n                <icon-image :name=\"'eye'\" class=\"mr-1\" size=\"14\"></icon-image>\n                <text class=\"mr-3\">1234</text>\n                <icon-image :name=\"'like'\" class=\"mr-1\" size=\"14\"></icon-image>\n                <text>56</text>\n                <text class=\"ml-auto\">3Â∞èÊó∂Ââç</text>\n              </view>\n            </view>\n          </view>\n\n          <!-- Á¨¨‰∫åÂº†Âç°Áâá -->\n          <view class=\"card bg-white\" @tap=\"navigateToKnowledgeDetail('static2')\">\n            <view class=\"flex\">\n              <view class=\"p-3 flex-grow\">\n                <view class=\"flex mb-2\">\n                  <text class=\"green-tag\"># ËäÇËÉΩÂáèÊéí</text>\n                </view>\n                <text class=\"font-medium mb-2 block\">Êó•Â∏∏Áî®ÁîµÂ∞èÁ™çÈó®ÔºåËΩªÊùæËäÇËÉΩ30%</text>\n                <view class=\"flex items-center text-gray-500 text-xs\">\n                  <icon-image :name=\"'eye'\" class=\"mr-1\" size=\"14\"></icon-image>\n                  <text class=\"mr-3\">867</text>\n                  <icon-image :name=\"'like'\" class=\"mr-1\" size=\"14\"></icon-image>\n                  <text>42</text>\n                  <text class=\"ml-auto\">Êò®Â§©</text>\n                </view>\n              </view>\n              <view class=\"p-3\">\n                <image src=\"/static/images/userspost/energy-saving.jpeg\" mode=\"aspectFill\" class=\"small-img\"></image>\n              </view>\n            </view>\n          </view>\n        </view>\n\n        <!-- ÂÖ¨ÁõäÊ¥ªÂä® -->\n        <view>\n          <view class=\"flex justify-between items-center mb-3\">\n            <text class=\"text-lg font-semibold\">ÂÖ¨ÁõäÊ¥ªÂä®</text>\n            <view class=\"flex items-center\" @tap=\"navigateToAllActivities\">\n              <text class=\"text-sm text-gray-500\">Êü•ÁúãÊõ¥Â§ö</text>\n              <icon-image :name=\"'right'\" class=\"text-xs text-gray-500 ml-1\" size=\"12\"></icon-image>\n            </view>\n          </view>\n\n          <!-- Âä†ËΩΩ‰∏≠ -->\n          <view v-if=\"loading\" class=\"flex justify-center py-4\">\n            <view class=\"loading-circle\"></view>\n          </view>\n          \n          <!-- ÈîôËØØÊèêÁ§∫ -->\n          <view v-else-if=\"hasError\" class=\"card bg-white p-4\">\n            <view class=\"flex flex-col items-center justify-center py-4\">\n              <text class=\"text-red-500 mb-2\">Âä†ËΩΩÂ§±Ë¥•</text>\n              <text class=\"text-gray-500 text-sm mb-3\">{{ errorMessage }}</text>\n              <button class=\"bg-green-50 text-green-600 text-sm px-4 py-2 rounded-full\" @tap=\"getActivityList\">\n                ÈáçÊñ∞Âä†ËΩΩ\n              </button>\n            </view>\n          </view>\n          \n          <!-- Êó†Ê¥ªÂä®ÊèêÁ§∫ -->\n          <view v-else-if=\"activities.length === 0\" class=\"card bg-white p-4\">\n            <view class=\"flex flex-col items-center justify-center py-4\">\n              <text class=\"text-gray-500\">ÊöÇÊó†ÂÖ¨ÁõäÊ¥ªÂä®ÔºåÊï¨ËØ∑ÊúüÂæÖ</text>\n            </view>\n          </view>\n\n          <!-- Ê¥ªÂä®Âç°Áâá -->\n          <block v-else>\n            <view \n              v-for=\"(activity, index) in activities\" \n              :key=\"activity._id || index\"\n              class=\"activity-card bg-white mb-4 rounded-lg\"\n              @tap=\"navigateToDetail(activity._id)\">\n              <view class=\"p-4\">\n                <!-- Ê¥ªÂä®Ê†áÈ¢òÂíåÁä∂ÊÄÅ -->\n                <view class=\"flex justify-between items-center mb-2\">\n                  <text class=\"font-medium text-base\">{{ activity.title }}</text>\n                  <text \n                    :class=\"getStatusTextClass(activity)\"\n                    class=\"text-xs\">\n                    {{ getDisplayStatus(activity) }}\n                  </text>\n                </view>\n                \n                <!-- Ê¥ªÂä®ÊèèËø∞ -->\n                <text class=\"text-gray-600 text-sm mb-3\">{{ activity.description }}</text>\n                \n                <!-- Ê¥ªÂä®Âú∞ÁÇπ -->\n                <view class=\"flex items-center mb-2 text-gray-500 text-sm\">\n                  <icon-image :name=\"'location'\" class=\"mr-1\" size=\"14\"></icon-image>\n                  <text>{{ activity.location }}</text>\n                </view>\n                \n                <!-- Ê¥ªÂä®Êó∂Èó¥ -->\n                <view class=\"flex items-center mb-3 text-gray-500 text-sm\">\n                  <icon-image :name=\"'calendar'\" class=\"mr-1\" size=\"14\"></icon-image>\n                  <text>{{ activity.activity_time }}</text>\n                </view>\n                \n                <!-- ÂèÇ‰∏é‰∫∫Êï∞ÂíåÊä•ÂêçÊåâÈíÆ -->\n                <view class=\"flex items-center justify-between\">\n                  <!-- ÂèÇ‰∏é‰∫∫Êï∞ -->\n                  <view class=\"flex items-center\">\n                    <view class=\"flex mr-2\">\n                      <view class=\"activity-avatar-icon\">üßë</view>\n                      <view class=\"activity-avatar-icon ml-n2\">üë©</view>\n                      <view class=\"activity-avatar-icon ml-n2\">üë®</view>\n                    </view>\n                    <text class=\"text-xs text-gray-500\">{{ getParticipantsCount(activity) }}‰∫∫Â∑≤Êä•Âêç</text>\n                  </view>\n                  \n                  <!-- Êä•ÂêçÊåâÈíÆ -->\n                  <button \n                    :class=\"getActionButtonClass(activity)\"\n                    @tap.stop=\"handleActivityAction(activity)\">\n                    {{ getActionButtonText(activity) }}\n                  </button>\n                </view>\n              </view>\n            </view>\n          </block>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted, onErrorCaptured, computed } from 'vue';\nimport { onShow, onPullDownRefresh } from '@dcloudio/uni-app';\nimport { getTopActivities, enrollActivity } from '../../services/userActivity.js';\nimport { searchContent } from '../../services/search.js';\nimport { getKnowledgeList } from '../../services/knowledge.js';\nimport IconImage from '../../components/IconImage.vue';\n\n// ‰∏∫‰∫ÜÂú®Ê®°Êùø‰∏≠‰ΩøÁî®ÁªÑ‰ª∂ÔºåÈúÄË¶ÅÂàõÂª∫Âà´Âêç\nconst IconEye = IconImage;\nconst IconLike = IconImage;\nconst IconHeart = IconImage;\nconst IconLocation = IconImage;\nconst IconCalendar = IconImage;\nconst IconRight = IconImage;\nconst IconSearch = IconImage;\nconst IconCloseCircle = IconImage;\n\n// Ê¥ªÂä®ÂàóË°®\nconst activities = ref([]);\nconst loading = ref(true);\nconst hasError = ref(false);\nconst errorMessage = ref('');\n\n// ÁéØ‰øùÁü•ËØÜÂàóË°®\nconst knowledgeList = ref([]);\nconst knowledgeLoading = ref(false);\n\n// ÊêúÁ¥¢Áõ∏ÂÖ≥\nconst searchKeyword = ref('');\nconst searchResults = ref([]);\nconst isSearchMode = ref(false);\nconst searchTotal = ref(0);\n\n// ÊçïËé∑ÈîôËØØ\nonErrorCaptured((err, instance, info) => {\n  console.error('È¶ñÈ°µÊçïËé∑Âà∞ÈîôËØØ:', err);\n  console.log('ÈîôËØØÂèëÁîüÂú®:', info);\n  hasError.value = true;\n  errorMessage.value = err.message || 'Âä†ËΩΩÊï∞ÊçÆÊó∂Âá∫Èîô';\n  return false; // ÈòªÊ≠¢ÈîôËØØÁªßÁª≠‰º†Êí≠\n});\n\n// Ëé∑ÂèñÊ¥ªÂä®ÂàóË°®\nconst getActivityList = async () => {\n  loading.value = true;\n  hasError.value = false;\n  try {\n    console.log('ÂºÄÂßãËé∑ÂèñÈ¶ñÈ°µÊ¥ªÂä®ÂàóË°®...');\n    const result = await getTopActivities();\n    console.log('Ëé∑ÂèñÂà∞ÁöÑÊ¥ªÂä®ÂàóË°®:', result);\n    \n    if (!result || result.length === 0) {\n      console.warn('Ê≤°ÊúâÊ¥ªÂä®Êï∞ÊçÆÔºåÊòæÁ§∫Á©∫Áä∂ÊÄÅ');\n      activities.value = [];\n    } else {\n      activities.value = result;\n      console.log('È¶ñÈ°µÊòæÁ§∫ÁöÑÊ¥ªÂä®Êï∞Èáè:', activities.value.length);\n      activities.value.forEach((activity, index) => {\n        console.log(`Ê¥ªÂä®${index+1}: ${activity.title}, Áä∂ÊÄÅ: ${activity.status}, Â∑≤Êä•Âêç: ${activity.isEnrolled}, Â∑≤ÊâìÂç°: ${activity.isCheckedIn}`);\n      });\n    }\n  } catch (error) {\n    console.error('Ëé∑ÂèñÊ¥ªÂä®ÂàóË°®Â§±Ë¥•', error);\n    hasError.value = true;\n    errorMessage.value = error.message || 'Ëé∑ÂèñÊ¥ªÂä®Êï∞ÊçÆÂ§±Ë¥•';\n    activities.value = [];\n  } finally {\n    loading.value = false;\n  }\n};\n\n// ‰∏ãÊãâÂà∑Êñ∞Â§ÑÁêÜÂáΩÊï∞\nonPullDownRefresh(async () => {\n  console.log('Ëß¶Âèë‰∏ãÊãâÂà∑Êñ∞...');\n  try {\n    await getActivityList();\n    uni.showToast({\n      title: 'Âà∑Êñ∞ÊàêÂäü',\n      icon: 'success',\n      duration: 1500\n    });\n  } catch (error) {\n    console.error('Âà∑Êñ∞Â§±Ë¥•:', error);\n    uni.showToast({\n      title: 'Âà∑Êñ∞Â§±Ë¥•',\n      icon: 'none',\n      duration: 1500\n    });\n  } finally {\n    // ÂÅúÊ≠¢‰∏ãÊãâÂà∑Êñ∞Âä®Áîª\n    uni.stopPullDownRefresh();\n  }\n});\n\n// Ëé∑ÂèñÁä∂ÊÄÅÊñáÊú¨Ê†∑ÂºèÁ±ª\nconst getStatusTextClass = (activity) => {\n  if (activity.isCheckedIn) {\n    return 'status-tag status-completed'; // Â∑≤ÂÆåÊàêÊâìÂç°ÔºåÊòæÁ§∫ÁÅ∞Ëâ≤\n  } else if (activity.isEnrolled) {\n    return 'status-tag status-ongoing'; // Â∑≤Êä•Âêç‰ΩÜÊú™ÊâìÂç°ÔºåÊòæÁ§∫ÁªøËâ≤\n  }\n  \n  switch (activity.status) {\n    case 'Êä•Âêç‰∏≠':\n      return 'status-tag status-enrolling'; // Êä•Âêç‰∏≠ÔºåÊòæÁ§∫Ê©ôËâ≤\n    case 'Êú™ÂºÄÂßã':\n      return 'status-tag status-upcoming'; // Êú™ÂºÄÂßãÔºåÊòæÁ§∫ËìùËâ≤\n    case 'Â∑≤ÁªìÊùü':\n      return 'status-tag status-ended'; // Â∑≤ÁªìÊùüÔºåÊòæÁ§∫ÁÅ∞Ëâ≤\n    default:\n      return 'status-tag status-default';\n  }\n};\n\n// Ëé∑ÂèñÁî®Êà∑Á´ØÊòæÁ§∫ÁöÑÁä∂ÊÄÅÊñáÊú¨\nconst getDisplayStatus = (activity) => {\n  if (activity.isCheckedIn) {\n    return 'Â∑≤ÂÆåÊàê'; // Â∑≤ÂÆåÊàêÊâìÂç°\n  } else if (activity.isEnrolled) {\n    return 'ËøõË°å‰∏≠'; // Â∑≤Êä•Âêç‰ΩÜÊú™ÊâìÂç°\n  }\n  \n  return activity.status; // Âê¶ÂàôÊòæÁ§∫ÂéüÂßãÁä∂ÊÄÅ\n};\n\n// Ëé∑ÂèñÊìç‰ΩúÊåâÈíÆÊñáÊú¨\nconst getActionButtonText = (activity) => {\n  if (activity.isCheckedIn) {\n    return 'Â∑≤ÂÆåÊàê';\n  } else if (activity.isEnrolled) {\n    return 'Êü•ÁúãËØ¶ÊÉÖ';\n  } else if (activity.status === 'Êú™ÂºÄÂßã') {\n    return 'Á≠âÂæÖÂºÄÂßã';\n  } else if (activity.status === 'Â∑≤ÁªìÊùü') {\n    return 'Â∑≤ÁªìÊùü';\n  } else {\n    return 'Á´ãÂç≥Êä•Âêç';\n  }\n};\n\n// Ëé∑ÂèñÊåâÈíÆÊ†∑ÂºèÁ±ª\nconst getActionButtonClass = (activity) => {\n  if (activity.status === 'Êú™ÂºÄÂßã' || activity.status === 'Â∑≤ÁªìÊùü') {\n    return 'ml-auto bg-gray-200 text-gray-500 text-sm px-4 py-1 rounded-full';\n  } else {\n    return 'ml-auto bg-green-50 text-green-600 text-sm px-4 py-1 rounded-full';\n  }\n};\n\n// Â§ÑÁêÜÊ¥ªÂä®Êìç‰Ωú\nconst handleActivityAction = (activity) => {\n  if (activity.isCheckedIn) {\n    // Â∑≤ÂÆåÊàêÔºå‰∏çÂÅö‰ªª‰ΩïÊìç‰Ωú\n    uni.showToast({\n      title: 'ÊÇ®Â∑≤ÂÆåÊàêËØ•Ê¥ªÂä®',\n      icon: 'none'\n    });\n  } else if (activity.isEnrolled) {\n    // Â∑≤Êä•Âêç‰ΩÜÊú™ÂÆåÊàêÔºåË∑≥ËΩ¨Âà∞ËØ¶ÊÉÖÈ°µ\n    uni.navigateTo({\n      url: `/pages/home/activity-detail?id=${activity._id}`\n    });\n  } else if (activity.status === 'Êä•Âêç‰∏≠') {\n    // Êä•Âêç‰∏≠ÔºåËøõË°åÊä•ÂêçÊìç‰Ωú\n    handleEnrollActivity(activity._id);\n  } else {\n    // ÂÖ∂‰ªñÁä∂ÊÄÅÔºåË∑≥ËΩ¨Âà∞ËØ¶ÊÉÖÈ°µ\n    uni.navigateTo({\n      url: `/pages/home/activity-detail?id=${activity._id}`\n    });\n  }\n};\n\n// Â§ÑÁêÜÊä•ÂêçÊ¥ªÂä®\nconst handleEnrollActivity = async (activityId) => {\n  try {\n    const result = await enrollActivity(activityId);\n    if (result && result.success) {\n      uni.showToast({\n        title: 'Êä•ÂêçÊàêÂäü',\n        icon: 'success'\n      });\n      \n      // Êõ¥Êñ∞Êú¨Âú∞Ê¥ªÂä®ÂàóË°®\n      const index = activities.value.findIndex(item => item._id === activityId);\n      if (index > -1) {\n        activities.value[index].isEnrolled = true;\n      }\n    } else {\n      uni.showToast({\n        title: result.message || 'Êä•ÂêçÂ§±Ë¥•',\n        icon: 'none'\n      });\n    }\n  } catch (error) {\n    console.error('Êä•ÂêçÊ¥ªÂä®Â§±Ë¥•', error);\n    uni.showToast({\n      title: 'Êä•ÂêçÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÂÜçËØï',\n      icon: 'none'\n    });\n  }\n};\n\n// Ëé∑ÂèñÂèÇ‰∏é‰∫∫Êï∞\nconst getParticipantsCount = (activity) => {\n  return activity.enrollCount || 0;\n};\n\n// Ë∑≥ËΩ¨Âà∞Ê¥ªÂä®ËØ¶ÊÉÖ\nconst navigateToDetail = (activityId) => {\n  uni.navigateTo({\n    url: `/pages/home/activity-detail?id=${activityId}`\n  });\n};\n\n// Ë∑≥ËΩ¨Âà∞ÂÖ®ÈÉ®Ê¥ªÂä®\nconst navigateToAllActivities = () => {\n  uni.navigateTo({\n    url: '/pages/home/activity-list'\n  });\n};\n\n// Ë∑≥ËΩ¨Âà∞Áü•ËØÜËØ¶ÊÉÖÈ°µ\nconst navigateToKnowledgeDetail = (knowledgeId) => {\n  if (knowledgeId === 'static1') {\n    uni.navigateTo({\n      url: '/pages/home/knowledge-static?id=1'\n    });\n  } else if (knowledgeId === 'static2') {\n    uni.navigateTo({\n      url: '/pages/home/knowledge-static?id=2'\n    });\n  } else {\n    uni.navigateTo({\n      url: `/pages/home/knowledge-detail?id=${knowledgeId}`\n    });\n  }\n};\n\n// Ë∑≥ËΩ¨Âà∞Áü•ËØÜÂàóË°®È°µ\nconst navigateToKnowledgeList = () => {\n  uni.navigateTo({\n    url: '/pages/home/knowledge-list'\n  });\n};\n\n// ÊâßË°åÊêúÁ¥¢\nconst handleSearch = () => {\n  if (!searchKeyword.value.trim()) {\n    uni.showToast({\n      title: 'ËØ∑ËæìÂÖ•ÊêúÁ¥¢ÂÖ≥ÈîÆËØç',\n      icon: 'none'\n    });\n    return;\n  }\n  \n  performSearch(searchKeyword.value);\n};\n\n// Ê∏ÖÈô§ÊêúÁ¥¢ÂÜÖÂÆπ\nconst clearSearch = () => {\n  searchKeyword.value = '';\n  if (isSearchMode.value) {\n    exitSearch();\n  }\n};\n\n// ÈÄÄÂá∫ÊêúÁ¥¢Ê®°Âºè\nconst exitSearch = () => {\n  isSearchMode.value = false;\n  searchResults.value = [];\n  searchKeyword.value = '';\n};\n\n// ÊêúÁ¥¢Â§ÑÁêÜ\nconst performSearch = async (keyword) => {\n  try {\n    isSearchMode.value = true;\n    const results = await searchContent(keyword);\n    searchResults.value = results;\n    searchTotal.value = results.length;\n  } catch (error) {\n    console.error('ÊêúÁ¥¢Â§±Ë¥•', error);\n    uni.showToast({\n      title: 'ÊêúÁ¥¢Â§±Ë¥•ÔºåËØ∑Á®çÂêéÂÜçËØï',\n      icon: 'none'\n    });\n    searchResults.value = [];\n  }\n};\n\n// ÂàùÂßãÂåñÂä†ËΩΩÊ¥ªÂä®ÂàóË°®\nonMounted(() => {\n  getActivityList();\n});\n\n// ÊØèÊ¨°ÊòæÁ§∫È°µÈù¢Êó∂Âà∑Êñ∞Ê¥ªÂä®\nonShow(() => {\n  console.log('È¶ñÈ°µÊòæÁ§∫ÔºåÂà∑Êñ∞Ê¥ªÂä®Êï∞ÊçÆ...');\n  setTimeout(() => {\n    getActivityList();\n  }, 500); // Âª∂ËøüÂä†ËΩΩÔºåÈÅøÂÖçÂàùÂßãÂåñÈóÆÈ¢ò\n});\n\n// ËÆ°ÁÆóÂ±ûÊÄßÔºöËøáÊª§Áü•ËØÜÊêúÁ¥¢ÁªìÊûú\nconst searchKnowledgeResults = computed(() => {\n  return searchResults.value.filter(item => item.type === 'knowledge');\n});\n\n// ËÆ°ÁÆóÂ±ûÊÄßÔºöËøáÊª§Ê¥ªÂä®ÊêúÁ¥¢ÁªìÊûú\nconst searchActivityResults = computed(() => {\n  return searchResults.value.filter(item => item.type === 'activity');\n});\n\n// Ê∑ªÂä†Êó•ÊúüÊ†ºÂºèÂåñÂáΩÊï∞\n// Ê†ºÂºèÂåñÊó•Êúü\nconst formatDate = (timestamp) => {\n  if (!timestamp) return '';\n  \n  const date = new Date(timestamp);\n  const now = new Date();\n  const diff = now - date;\n  \n  // ‰∏ÄÂ∞èÊó∂ÂÜÖ\n  if (diff < 60 * 60 * 1000) {\n    const minutes = Math.floor(diff / (60 * 1000));\n    return `${minutes}ÂàÜÈíüÂâç`;\n  }\n  \n  // 24Â∞èÊó∂ÂÜÖ\n  if (diff < 24 * 60 * 60 * 1000) {\n    const hours = Math.floor(diff / (60 * 60 * 1000));\n    return `${hours}Â∞èÊó∂Ââç`;\n  }\n  \n  // Êò®Â§©\n  const yesterday = new Date(now);\n  yesterday.setDate(yesterday.getDate() - 1);\n  if (date.getDate() === yesterday.getDate()) {\n    return 'Êò®Â§©';\n  }\n  \n  // ‰ªäÂπ¥ÂÜÖ\n  if (date.getFullYear() === now.getFullYear()) {\n    return `${date.getMonth() + 1}Êúà${date.getDate()}Êó•`;\n  }\n  \n  // ÂÖ∂‰ªñ\n  return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;\n};\n</script>\n\n<style>\n.container {\n  background-color: #f8f9fa;\n  font-family: \"PingFang SC\", \"Helvetica Neue\", Arial, sans-serif;\n  color: #333;\n  padding-bottom: 80px;\n}\n\n.search-bar {\n  border-radius: 20px;\n}\n\n.nav-pill {\n  border-radius: 16px;\n  padding: 6px 12px;\n  font-size: 14px;\n  display: inline-block;\n}\n\n.active-pill {\n  background-color: #4CAF50;\n  color: white;\n}\n\n.card {\n  border-radius: 16px;\n  overflow: hidden;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n}\n\n.green-tag {\n  background-color: rgba(76, 175, 80, 0.1);\n  color: #4CAF50;\n  border-radius: 12px;\n  padding: 2px 10px;\n  font-size: 12px;\n  display: inline-block;\n}\n\n.avatar-group {\n  display: flex;\n  margin-right: -10px;\n}\n\n.avatar-sm {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  border: 1px solid white;\n  margin-right: -10px;\n  object-fit: cover;\n}\n\n/* ‰øÆÂ§çÈó¥Ë∑ùÁ±ª */\n.space-left {\n  margin-left: 12px;\n}\n\n.tag-space {\n  margin-left: 8px;\n}\n\n/* ÂõæÁâáÊ†∑Âºè‰ºòÂåñ */\n.knowledge-img {\n  height: 140px;\n  width: 100%;\n  object-fit: cover;\n  object-position: center;\n}\n\n.small-img {\n  width: 96px;\n  height: 96px;\n  object-fit: cover;\n  object-position: center;\n  border-radius: 8px;\n}\n\n/* Â∑•ÂÖ∑Á±ª */\n.px-4 { padding-left: 16px; padding-right: 16px; }\n.pt-10 { padding-top: 40px; }\n.pb-4 { padding-bottom: 16px; }\n.py-4 { padding-top: 16px; padding-bottom: 16px; }\n.p-4 { padding: 16px; }\n.p-3 { padding: 12px; }\n.mb-4 { margin-bottom: 16px; }\n.mb-3 { margin-bottom: 12px; }\n.mb-2 { margin-bottom: 8px; }\n.mb-1 { margin-bottom: 4px; }\n.mr-4 { margin-right: 16px; }\n.mr-3 { margin-right: 12px; }\n.mr-2 { margin-right: 8px; }\n.mr-1 { margin-right: 4px; }\n.ml-auto { margin-left: auto; }\n.ml-2 { margin-left: 8px; }\n.ml-1 { margin-left: 4px; }\n.mt-3 { margin-top: 12px; }\n.mt-1 { margin-top: 4px; }\n.mx-2 { margin-left: 8px; margin-right: 8px; }\n.my-auto { margin-top: auto; margin-bottom: auto; }\n\n.bg-white { background-color: #ffffff; }\n.bg-gray-100 { background-color: #f3f4f6; }\n.bg-green-50 { background-color: #f0fdf4; }\n\n.text-xl { font-size: 20px; }\n.text-lg { font-size: 18px; }\n.text-sm { font-size: 14px; }\n.text-xs { font-size: 12px; }\n.font-bold { font-weight: 700; }\n.font-semibold { font-weight: 600; }\n.font-medium { font-weight: 500; }\n\n.text-gray-400 { color: #9ca3af; }\n.text-gray-500 { color: #6b7280; }\n.text-green-500 { color: #4CAF50; }\n.text-green-600 { color: #4CAF50; }\n.text-yellow-500 { color: #F59E0B; }\n\n.flex { display: flex; }\n.flex-grow { flex-grow: 1; }\n.flex-shrink-0 { flex-shrink: 0; }\n.items-center { align-items: center; }\n.justify-between { justify-content: space-between; }\n\n.w-full { width: 100%; }\n.h-32 { height: 128px; }\n.w-24 { width: 96px; }\n.h-24 { height: 96px; }\n\n.rounded-md { border-radius: 6px; }\n.rounded-full { border-radius: 9999px; }\n\n.object-cover { object-fit: cover; }\n\n.shadow-sm { box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); }\n\n.pb-2 { padding-bottom: 8px; }\n\n.whitespace-nowrap { white-space: nowrap; }\n\n.relative { position: relative; }\n.absolute { position: absolute; }\n.right-3 { right: 12px; }\n.top-2-5 { top: 10px; }\n\n.activity-card {\n  border-radius: 16px;\n  overflow: hidden;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.05);\n}\n\n.activity-avatar-icon {\n  width: 24px;\n  height: 24px;\n  background-color: #f3f4f6;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  border: 1px solid white;\n}\n\n.ml-n2 {\n  margin-left: -8px;\n}\n\n/* ÊêúÁ¥¢ÂÆπÂô®Ê†∑Âºè */\n.search-container {\n  margin-bottom: 5px;\n}\n\n.search-status {\n  background-color: #f8f9fa;\n  padding: 5px 8px;\n  border-radius: 8px;\n}\n\n.mt-2 {\n  margin-top: 8px;\n}\n\n/* Áä∂ÊÄÅÊ†áÁ≠æÊ†∑Âºè */\n.status-tag {\n  font-size: 12px;\n  font-weight: 600;\n  border-radius: 9999px;\n  padding: 2px 8px;\n}\n\n.status-enrolling {\n  color: #F59E0B;\n  background-color: rgba(245, 158, 11, 0.1);\n}\n\n.status-ongoing {\n  color: #4CAF50;\n  background-color: rgba(76, 175, 80, 0.1);\n}\n\n.status-upcoming {\n  color: #3b82f6;\n  background-color: rgba(59, 130, 246, 0.1);\n}\n\n.status-ended, .status-completed {\n  color: #6b7280;\n  background-color: rgba(107, 114, 128, 0.1);\n}\n\n.status-default {\n  color: #6b7280;\n  background-color: rgba(107, 114, 128, 0.1);\n}\n\n/* Âä†ËΩΩÂúàÊ†∑Âºè */\n.loading-circle {\n  width: 30px;\n  height: 30px;\n  border: 3px solid rgba(76, 175, 80, 0.2);\n  border-top: 3px solid #4CAF50;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n</style> ","import MiniProgramPage from 'D:/Documents/HBuilderProjects/CarbonFootprint/pages/home/home.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onErrorCaptured","uni","getTopActivities","onPullDownRefresh","enrollActivity","searchContent","onMounted","onShow","computed","MiniProgramPage"],"mappings":"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"}