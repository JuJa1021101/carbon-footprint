{"version":3,"file":"init-mall.js","sources":["pages/mall/init-mall.vue","../../../Software/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWFsbC9pbml0LW1hbGwudnVl"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <view class=\"p-4\">\n      <button type=\"primary\" @click=\"initMallData\" class=\"mb-4\">初始化积分商城数据</button>\n      <button type=\"primary\" @click=\"goToMall\" class=\"mb-4\">返回积分商城</button>\n      \n      <view v-if=\"message\" class=\"message p-3 mt-4\" :class=\"{'success': isSuccess, 'error': !isSuccess}\">\n        {{ message }}\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\n\nconst message = ref('');\nconst isSuccess = ref(false);\n\n// 初始化积分商城数据\nconst initMallData = async () => {\n  try {\n    message.value = '初始化中...';\n    \n    const { result } = await uniCloud.callFunction({\n      name: 'initMallData'\n    });\n    \n    if (result.code === 0) {\n      isSuccess.value = true;\n      message.value = result.message || '初始化成功';\n    } else {\n      isSuccess.value = false;\n      message.value = result.message || '初始化失败';\n    }\n  } catch (e) {\n    isSuccess.value = false;\n    message.value = e.message || '初始化失败';\n  }\n};\n\n// 返回积分商城\nconst goToMall = () => {\n  uni.navigateTo({\n    url: '/pages/mall/mall'\n  });\n};\n</script>\n\n<style>\n.container {\n  padding-top: 100px;\n}\n\n.message {\n  border-radius: 8px;\n  margin-top: 20px;\n}\n\n.success {\n  background-color: #d4edda;\n  color: #155724;\n  border: 1px solid #c3e6cb;\n}\n\n.error {\n  background-color: #f8d7da;\n  color: #721c24;\n  border: 1px solid #f5c6cb;\n}\n\n.p-4 { padding: 16px; }\n.p-3 { padding: 12px; }\n.mb-4 { margin-bottom: 16px; }\n.mt-4 { margin-top: 16px; }\n</style> ","import MiniProgramPage from 'D:/Documents/HBuilderProjects/CarbonFootprint/pages/mall/init-mall.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uniCloud","uni","MiniProgramPage"],"mappings":";;;;;AAgBA,UAAM,UAAUA,cAAAA,IAAI,EAAE;AACtB,UAAM,YAAYA,cAAAA,IAAI,KAAK;AAG3B,UAAM,eAAe,YAAY;AAC/B,UAAI;AACF,gBAAQ,QAAQ;AAEhB,cAAM,EAAE,OAAM,IAAK,MAAMC,cAAAA,GAAS,aAAa;AAAA,UAC7C,MAAM;AAAA,QACZ,CAAK;AAED,YAAI,OAAO,SAAS,GAAG;AACrB,oBAAU,QAAQ;AAClB,kBAAQ,QAAQ,OAAO,WAAW;AAAA,QACxC,OAAW;AACL,oBAAU,QAAQ;AAClB,kBAAQ,QAAQ,OAAO,WAAW;AAAA,QACnC;AAAA,MACF,SAAQ,GAAG;AACV,kBAAU,QAAQ;AAClB,gBAAQ,QAAQ,EAAE,WAAW;AAAA,MAC9B;AAAA,IACH;AAGA,UAAM,WAAW,MAAM;AACrBC,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACT,CAAG;AAAA,IACH;;;;;;;;;;;;;;AC7CA,GAAG,WAAWC,SAAe;"}