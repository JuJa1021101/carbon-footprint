{"version":3,"file":"login.js","sources":["pages/login/login.vue","../../../Software/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG9naW4vbG9naW4udnVl"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <view class=\"login-box\">\n      <!-- Logo区域 -->\n      <view class=\"logo-area\">\n        <image src=\"/static/images/app-icon.png\" mode=\"aspectFit\" class=\"logo\"></image>\n      </view>\n      \n      <!-- 手机号快捷登录按钮 -->\n      <view class=\"login-btn-area\">\n        <button class=\"phone-login-btn\" @tap=\"navigateToHome\">\n          <text class=\"icon-phone\"></text>\n          <text>手机号快捷登录</text>\n        </button>\n      </view>\n      \n      <!-- 其他登录方式分割线 -->\n      <view class=\"divider\">\n        <text class=\"divider-text\">其他登录方式</text>\n      </view>\n      \n      <!-- 模拟登录入口 -->\n      <view class=\"mock-login\" @tap=\"handleMockLogin\">\n        <text class=\"icon-mobile\"></text>\n        <text>模拟快捷登录</text>\n      </view>\n    </view>\n    \n    <!-- 默认底部区域 -->\n    <view class=\"footer\">\n      <text class=\"copyright\">© 2024 碳足迹 All Rights Reserved</text>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { postLoginSimple } from '../../services/login.js';\n\nexport default {\n  data() {\n    return {\n      phoneNumber: '18379364964', // 默认填入测试手机号\n    }\n  },\n  methods: {\n    // 直接导航到首页（手机号快捷登录）\n    navigateToHome() {\n      uni.showToast({\n        title: '登录成功',\n        icon: 'success',\n        duration: 1500\n      });\n      \n      // 保存登录状态\n      uni.setStorageSync('login_status', 'loggedin');\n      uni.setStorageSync('user_token', 'test_token');\n      uni.setStorageSync('user_info', JSON.stringify({\n        account: 'wx_user',\n        avatar: '/static/images/avatars/default-avatar.png',\n        id: 10086,\n        mobile: '183****4964',\n        nickname: '环保用户'\n      }));\n      \n      // 延迟跳转，让用户看到提示\n      setTimeout(() => {\n        uni.switchTab({\n          url: '/pages/home/home'\n        });\n      }, 1500);\n    },\n    \n    // 处理模拟登录\n    handleMockLogin() {\n      // 直接使用默认手机号登录\n      uni.showLoading({ title: '登录中...' });\n      \n      setTimeout(() => {\n        uni.hideLoading();\n        \n        // 保存登录状态\n        uni.setStorageSync('login_status', 'loggedin');\n        uni.setStorageSync('user_token', 'test_token_' + Date.now());\n        uni.setStorageSync('user_info', JSON.stringify({\n          account: 'test_account',\n          avatar: '/static/images/avatars/default-avatar.png',\n          id: 10086420,\n          mobile: '18379364964',\n          nickname: '测试用户'\n        }));\n        \n        // 跳转到首页\n        uni.switchTab({\n          url: '/pages/home/home'\n        });\n      }, 800);\n    }\n  }\n}\n</script>\n\n<style>\n.container {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  background-color: #ffffff;\n  padding: 0 20px;\n}\n\n/* Logo区域样式 */\n.logo-area {\n  display: flex;\n  justify-content: center;\n  padding: 80px 0;\n}\n\n.logo {\n  width: 120px;\n  height: 120px;\n}\n\n/* 登录按钮区域样式 */\n.login-btn-area {\n  margin-bottom: 30px;\n}\n\n.phone-login-btn {\n  background-color: #0BC3A0;\n  color: #fff;\n  border-radius: 50px;\n  height: 45px;\n  line-height: 45px;\n  font-size: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.icon-phone {\n  margin-right: 8px;\n  font-size: 18px;\n}\n\n/* 分割线样式 */\n.divider {\n  position: relative;\n  text-align: center;\n  margin: 20px 0;\n}\n\n.divider::before, .divider::after {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  width: 35%;\n  height: 1px;\n  background-color: #e0e0e0;\n}\n\n.divider::before {\n  left: 0;\n}\n\n.divider::after {\n  right: 0;\n}\n\n.divider-text {\n  display: inline-block;\n  padding: 0 10px;\n  font-size: 14px;\n  background-color: #fff;\n  color: #999;\n  position: relative;\n  z-index: 1;\n}\n\n/* 模拟登录入口样式 */\n.mock-login {\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  border: 1px solid #e0e0e0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 12px;\n  color: #666;\n  margin: 0 auto;\n}\n\n.icon-mobile {\n  font-size: 24px;\n  margin-bottom: 5px;\n}\n\n/* 底部区域样式 */\n.footer {\n  margin-top: auto;\n  padding: 20px 0;\n  text-align: center;\n}\n\n.copyright {\n  font-size: 12px;\n  color: #999;\n}\n</style> ","import MiniProgramPage from 'D:/Documents/HBuilderProjects/CarbonFootprint/pages/login/login.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;AAsCA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,aAAa;AAAA;AAAA,IACf;AAAA,EACD;AAAA,EACD,SAAS;AAAA;AAAA,IAEP,iBAAiB;AACfA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,QACN,UAAU;AAAA,MACZ,CAAC;AAGDA,oBAAAA,MAAI,eAAe,gBAAgB,UAAU;AAC7CA,oBAAAA,MAAI,eAAe,cAAc,YAAY;AAC7CA,oBAAAA,MAAI,eAAe,aAAa,KAAK,UAAU;AAAA,QAC7C,SAAS;AAAA,QACT,QAAQ;AAAA,QACR,IAAI;AAAA,QACJ,QAAQ;AAAA,QACR,UAAU;AAAA,MACX,CAAA,CAAC;AAGF,iBAAW,MAAM;AACfA,sBAAAA,MAAI,UAAU;AAAA,UACZ,KAAK;AAAA,QACP,CAAC;AAAA,MACF,GAAE,IAAI;AAAA,IACR;AAAA;AAAA,IAGD,kBAAkB;AAEhBA,oBAAAA,MAAI,YAAY,EAAE,OAAO,SAAU,CAAA;AAEnC,iBAAW,MAAM;AACfA,sBAAG,MAAC,YAAW;AAGfA,sBAAAA,MAAI,eAAe,gBAAgB,UAAU;AAC7CA,sBAAG,MAAC,eAAe,cAAc,gBAAgB,KAAK,IAAG,CAAE;AAC3DA,sBAAAA,MAAI,eAAe,aAAa,KAAK,UAAU;AAAA,UAC7C,SAAS;AAAA,UACT,QAAQ;AAAA,UACR,IAAI;AAAA,UACJ,QAAQ;AAAA,UACR,UAAU;AAAA,QACX,CAAA,CAAC;AAGFA,sBAAAA,MAAI,UAAU;AAAA,UACZ,KAAK;AAAA,QACP,CAAC;AAAA,MACF,GAAE,GAAG;AAAA,IACR;AAAA,EACF;AACF;;;;;;;;;ACjGA,GAAG,WAAW,eAAe;"}