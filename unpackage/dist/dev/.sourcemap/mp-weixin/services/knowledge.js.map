{"version":3,"file":"knowledge.js","sources":["services/knowledge.js"],"sourcesContent":["/**\n * 环保知识与小贴士服务\n */\n\n// 获取环保知识列表\nexport async function getKnowledgeList() {\n  try {\n    const result = await uniCloud.callFunction({\n      name: 'getKnowledge'\n    });\n    \n    if (result.result.code === 0) {\n      return result.result.data;\n    } else {\n      throw new Error(result.result.message || '获取环保知识列表失败');\n    }\n  } catch (error) {\n    console.error('获取环保知识列表失败:', error);\n    throw error;\n  }\n}\n\n// 获取环保知识详情\nexport async function getKnowledgeDetail(id) {\n  try {\n    const result = await uniCloud.callFunction({\n      name: 'getKnowledgeDetail',\n      data: { id }\n    });\n    \n    if (result.result.code === 0) {\n      return result.result.data;\n    } else {\n      throw new Error(result.result.message || '获取环保知识详情失败');\n    }\n  } catch (error) {\n    console.error('获取环保知识详情失败:', error);\n    throw error;\n  }\n}\n\n// 点赞/取消点赞环保知识\nexport async function toggleLikeKnowledge(id, isLike) {\n  try {\n    const result = await uniCloud.callFunction({\n      name: 'updateKnowledgeLikes',\n      data: { \n        id,\n        action: isLike ? 'like' : 'unlike'\n      }\n    });\n    \n    if (result.result.code === 0) {\n      return result.result.data;\n    } else {\n      throw new Error(result.result.message || '更新点赞状态失败');\n    }\n  } catch (error) {\n    console.error('更新点赞状态失败:', error);\n    throw error;\n  }\n} "],"names":["uniCloud","uni"],"mappings":";;AAKO,eAAe,mBAAmB;AACvC,MAAI;AACF,UAAM,SAAS,MAAMA,cAAQ,GAAC,aAAa;AAAA,MACzC,MAAM;AAAA,IACZ,CAAK;AAED,QAAI,OAAO,OAAO,SAAS,GAAG;AAC5B,aAAO,OAAO,OAAO;AAAA,IAC3B,OAAW;AACL,YAAM,IAAI,MAAM,OAAO,OAAO,WAAW,YAAY;AAAA,IACtD;AAAA,EACF,SAAQ,OAAO;AACdC,kBAAc,MAAA,MAAA,SAAA,+BAAA,eAAe,KAAK;AAClC,UAAM;AAAA,EACP;AACH;AAGO,eAAe,mBAAmB,IAAI;AAC3C,MAAI;AACF,UAAM,SAAS,MAAMD,cAAQ,GAAC,aAAa;AAAA,MACzC,MAAM;AAAA,MACN,MAAM,EAAE,GAAI;AAAA,IAClB,CAAK;AAED,QAAI,OAAO,OAAO,SAAS,GAAG;AAC5B,aAAO,OAAO,OAAO;AAAA,IAC3B,OAAW;AACL,YAAM,IAAI,MAAM,OAAO,OAAO,WAAW,YAAY;AAAA,IACtD;AAAA,EACF,SAAQ,OAAO;AACdC,kBAAc,MAAA,MAAA,SAAA,+BAAA,eAAe,KAAK;AAClC,UAAM;AAAA,EACP;AACH;AAGO,eAAe,oBAAoB,IAAI,QAAQ;AACpD,MAAI;AACF,UAAM,SAAS,MAAMD,cAAQ,GAAC,aAAa;AAAA,MACzC,MAAM;AAAA,MACN,MAAM;AAAA,QACJ;AAAA,QACA,QAAQ,SAAS,SAAS;AAAA,MAC3B;AAAA,IACP,CAAK;AAED,QAAI,OAAO,OAAO,SAAS,GAAG;AAC5B,aAAO,OAAO,OAAO;AAAA,IAC3B,OAAW;AACL,YAAM,IAAI,MAAM,OAAO,OAAO,WAAW,UAAU;AAAA,IACpD;AAAA,EACF,SAAQ,OAAO;AACdC,kBAAA,MAAA,MAAA,SAAA,+BAAc,aAAa,KAAK;AAChC,UAAM;AAAA,EACP;AACH;;;;"}